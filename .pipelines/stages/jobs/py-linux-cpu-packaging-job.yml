


  - ${{ if eq(parameters.enable_linux_arm, true) }}:
      - template: py-linux.yml
        parameters:
          arch: 'aarch64'
          machine_pool: 'onnxruntime-linux-ARM64-CPU-2019'
          base_image: 'arm64v8/almalinux:8'
          devtoolset_rootpath: /opt/rh/gcc-toolset-12/root
          ld_library_path_arg: /opt/rh/gcc-toolset-12/root/usr/lib64:/opt/rh/gcc-toolset-12/root/usr/lib:/opt/rh/gcc-toolset-12/root/usr/lib64/dyninst:/opt/rh/gcc-toolset-12/root/usr/lib/dyninst:/usr/local/lib64
          prepend_path: '/opt/rh/gcc-toolset-12/root/usr/bin:'
          extra_build_arg: ${{ parameters.build_py_parameters }}
          cmake_build_type: ${{ parameters.cmake_build_type }}

  - ${{ if eq(parameters.enable_linux_cpu, true) }}:
      - template: py-linux.yml
        parameters:
          arch: 'x86_64'
          machine_pool: 'onnxruntime-Ubuntu2204-AMD-CPU'
          base_image: 'registry.access.redhat.com/ubi8/ubi'
          devtoolset_rootpath: /opt/rh/gcc-toolset-12/root
          ld_library_path_arg: /opt/rh/gcc-toolset-12/root/usr/lib64:/opt/rh/gcc-toolset-12/root/usr/lib:/opt/rh/gcc-toolset-12/root/usr/lib64/dyninst:/opt/rh/gcc-toolset-12/root/usr/lib/dyninst:/usr/local/lib64
          prepend_path: '/opt/rh/gcc-toolset-12/root/usr/bin:'
          extra_build_arg: ${{ parameters.build_py_parameters }}
          cmake_build_type: ${{ parameters.cmake_build_type }}

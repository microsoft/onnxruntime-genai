parameters:
- name: enable_win_cpu
  type: boolean
- name: enable_win_gpu
  type: boolean
- name: enable_win_arm
  type: boolean
- name: enable_linux_cpu
  type: boolean
- name: enable_linux_gpu
  type: boolean
- name: enable_linux_arm
  type: boolean

stages:
- stage: nuget_packaging
  jobs:
  - ${{ if eq(parameters.enable_win_cpu, true) }}:
    - template: jobs/nuget-win-cpu-packaging-job.yml
  - ${{ if eq(parameters.enable_win_gpu, true) }}:
    - template: jobs/nuget-win-gpu-packaging-job.yml
  - ${{ if eq(parameters.enable_win_arm, true) }}:
    - template: jobs/nuget-win-cpu-packaging-job.yml
      parameters:
        arch: 'arm64'

  - ${{ if eq(parameters.enable_linux_cpu, true) }}:
    - template: jobs/nuget-linux-cpu-packaging-job.yml
  - ${{ if eq(parameters.enable_linux_gpu, true) }}:
    - template: jobs/nuget-linux-gpu-packaging-job.yml
  - ${{ if eq(parameters.enable_linux_arm, true) }}:
    - template: jobs/nuget-linux-cpu-packaging-job.yml
      parameters:
        arch: 'arm64'